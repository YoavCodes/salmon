<h1>Instantiating HighFin</h1>
<p>On the front-end you need to instantiate HighFin, This is generatlly done before the DOM is ready as follows:</p>

<pre class="prettyprint lang-html">
&lt;script type="text/javascript" language="javascript"&gt;

// configure app
HighFin({
    containers: ['readable_content', 'sidebar'],
    navigate: { 
        home: {
            before_func: [ [log, {msg:'hi'}] ],
            readable_content: ['founderletter'],
            sidebar: ['_sidebar_nav'],
            async_templates: [home_functions],
        },
        api_overview: {
            readable_content: ['api_overview'],
            sidebar: ['_sidebar_nav'],
        },
        api_folders_overview: {
            readable_content: ['api_folders_overview'],
            sidebar: ['_sidebar_nav'],
        }
    },
    routes: { 
        'api/overview': 'api_overview',
        'api/folders/overview': 'api_folders_overview',
    },
    callbacks: { 
        afterNavCallback: afterNavCallback, 
    },
    default_page: 'home'
})


&lt;/script&gt;
</pre>

<p>So let's take a look at how the app is being configured here.</p>

<h2>containers</h2>
<p><span class="prettyprint">containers</span> is an array of container IDs. A container is just a DOM element you plan on rendering templates into, they can exist in the base <span class="prettyprint lang-bash">index.html</span> file or only in specific templates.</p>

<h2>navigate</h2>
<p><span class="prettyprint">navigate</span> is HighFin's concept of pages. In the example there are three pages. To navigate to the <span class="prettyprint lang-bash">api_overview</span> page manually you would simply run <span class="prettyprint lang-bash">fin.util.nav('api_overview')</span> in your code or in the console. That method of navigation will not change the URL automatically (see <span class="prettyprint lang-bash">routes</span> below on how to do that). The <span class="prettyprint lang-bash">home</span> page contains several arrays, let's have a look at what happens when you navigate to it:</p>

<h3>before_func</h3>
<p><span class="prettyprint lang-bash">before_func</span> is an array of functions to run before the templates are rendered. In this case we're only running a single function <span class="prettyprint lang-bash">log</span> and passing a single argument <span class="prettyprint lang-bash">'hi'</span>. Notice that we're naming the argument, HighFin has a convenience method where any function can be called with named argument pairs in any order by calling <span class="prettyprint lang-bash">.args()</span>, like so <span class="prettyprint lang-bash">log.args({msg: 'hi'})</span>. The navigate object exploits that.</p>

<h3>templates</h3>
<p><span class="prettyprint lang-bash">readable_content</span> and <span class="prettyprint lang-bash">sidebar</span> are container names, and the arrays associated with them contain template names. Whenever you navigate to a page, all the containers referenced in that page will be cleared and the list of templates will be rendered into each container as specified. If you leave any <span class="prettyprint lang-bash">container</span> out, that container it will not be touched. If you put an underscore before the name of the template name then that template will not be re-rendered if it already exists. This can be toggled for a template on a page by page basis. So if you look at this example you can see that navigating to any page will render the <span class="prettyprint lang-bash">sidebar_nav</span> template into the <span class="prettyprint lang-bash">#sidebar</span> container if it doesn't already exist while the <span class="prettyprint lang-bash">readable_content</span> container will always be re-rendered with new content. Note that if you navigate to the same template 5 times in a row, <span class="prettyprint lang-bash">#readable_content</span> will be re-rendered 5 times with the same template. Also notice that the <span class="prettyprint lang-bash">sidebar_nav</span> template name has an underscore before nav, this is because the actual template file is located at <span class="prettyprint lang-bash">templates/sidebar/nav.html</span>. It's a convenient way to organise your templates.</p>

<p><span class="prettyprint lang-bash">async_templates</span> is an array of templates that aren't automatically rendered into any container on navigation. However the page may still depend on that template if you were to either render a template manually &mdash; maybe in response to a mouseclick, or if your page relies on functions that you'd like namespaced. In the example there is a template file called <span class="prettyprint lang-bash">templates/home/functions.fn.js</span>. When HighFin is instantiated on this example page arbitrary javascript in that file is executed in a new context immediately, an <span class="prettyprint lang-bash">example</span> function using the <span class="prettyprint lang-bash">Exports</span> syntax however would be namespaced on the front-end and accessible at <span class="prettyprint lang-bash">fin.fn.home.functions.example()</span>.</p>

<h2>routes</h2>
<p><span class="prettyprint lang-bash">routes</span> are a list of hashbang urls to map to pages. In this case if you load <span class="prettyprint lang-bash">http://domain.com/#!/api/overview/</span> it would run <span class="prettyprint lang-bash">fin.util.nav('api_overview')</span> which would in turn make sure the <span class="prettyprint lang-bash">sidebar_nav</span> template is rendered into <span class="prettyprint lang-bash">#sidebar</span>, and render the <span class="prettyprint lang-bash">api_overview</span> template into <span class="prettyprint lang-bash">#readable_content</span>.</p>

<h2>callbacks and variables</h2>
<p><span class="prettyprint lang-bash">callbacks</span> is a way of extending HighFin, in this case we're setting the <span class="prettyprint lang-bash">afterNavCallback</span> which is run at the end of <span class="prettyprint lang-bash">fin.util.nav()</span> to a function defined in <span class="prettyprint lang-bash">public/assets/js/main.js</span> by the same name. There's no reason beyond convention that it shares the same name. All the custom function does is highlight the navigation links so you know what page you're on.</p>

<p><span class="prettyprint lang-bash">default_page</span> is one of many configuratble variables, this one simply defines the page loaded whenever <span class="prettyprint lang-bash">fin.util.nav()</span> is called without a valid page name. This occurs most notably when loading the root of the site ie: <span class="prettyprint lang-bash">http://domain.com/</span></p>	